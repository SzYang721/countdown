(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14035,e=>{"use strict";function t(e){let t=new Date,r=new Date(e.targetDate);return"natural"===e.countType?a(t,r):function(e,t,r){if(!r)return a(e,t);let n=parseInt(r.start.split(":")[0]),o=parseInt(r.start.split(":")[1]),l=parseInt(r.end.split(":")[0]),s=parseInt(r.end.split(":")[1]),i=new Date(e),c=0;for(;i<t;){let u=i.getDay();if(r.excludeWeekends&&(0===u||6===u)){i.setDate(i.getDate()+1),i.setHours(0,0,0,0);continue}let d=60*i.getHours()+i.getMinutes(),m=60*l+s;if(d>=60*n+o&&d<m&&c++,i.setMinutes(i.getMinutes()+1),c>1e6)return a(e,t)}if(c<=0)return{days:0,hours:0,minutes:0,seconds:0,isExpired:!0};let u=Math.floor(c/480);return{days:u,hours:Math.floor(c%480/60),minutes:c%60,seconds:0,isExpired:!1}}(t,r,e.workingHours)}function a(e,t){let a=t.getTime()-e.getTime();if(a<=0)return{days:0,hours:0,minutes:0,seconds:0,isExpired:!0};let r=Math.floor(a/864e5),n=Math.floor(a%864e5/36e5);return{days:r,hours:n,minutes:Math.floor(a%36e5/6e4),seconds:Math.floor(a%6e4/1e3),isExpired:!1}}function r(){return[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time (US)"},{value:"America/Chicago",label:"Central Time (US)"},{value:"America/Denver",label:"Mountain Time (US)"},{value:"America/Los_Angeles",label:"Pacific Time (US)"},{value:"Europe/London",label:"London"},{value:"Europe/Paris",label:"Paris"},{value:"Europe/Berlin",label:"Berlin"},{value:"Asia/Tokyo",label:"Tokyo"},{value:"Asia/Shanghai",label:"Shanghai"},{value:"Asia/Hong_Kong",label:"Hong Kong"},{value:"Australia/Sydney",label:"Sydney"}]}function n(){return[{value:"Arial, sans-serif",label:"Arial"},{value:"Georgia, serif",label:"Georgia"},{value:"Times New Roman, serif",label:"Times New Roman"},{value:"Helvetica, sans-serif",label:"Helvetica"},{value:"Verdana, sans-serif",label:"Verdana"},{value:"Courier New, monospace",label:"Courier New"},{value:"Impact, sans-serif",label:"Impact"},{value:"Comic Sans MS, cursive",label:"Comic Sans MS"}]}e.s(["calculateTimeRemaining",()=>t,"getFontOptions",()=>n,"getTimezoneOptions",()=>r])},49264,33366,e=>{"use strict";let t;e.s(["createCountdown",()=>c,"deleteCountdown",()=>m,"getAllCountdowns",()=>g,"getCountdown",()=>u,"updateCountdown",()=>d],49264),e.s(["v4",()=>o],33366);let a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},r=new Uint8Array(16),n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));let o=function(e,o,l){return!a.randomUUID||o||e?function(e,a,o){var l,s,i;let c=null!=(i=null!=(s=(e=e||{}).random)?s:null==(l=e.rng)?void 0:l.call(e))?i:function(){if(!t){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(r)}();if(c.length<16)throw Error("Random bytes length must be >= 16");if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,a){if((o=o||0)<0||o+16>a.length)throw RangeError("UUID byte range ".concat(o,":").concat(o+15," is out of buffer bounds"));for(let e=0;e<16;++e)a[o+e]=c[e];return a}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}(c)}(e,o,l):a.randomUUID()},l="countdowns";function s(){try{let e=localStorage.getItem(l);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading from localStorage:",e),[]}}function i(e){try{localStorage.setItem(l,JSON.stringify(e))}catch(e){console.error("Error saving to localStorage:",e)}}async function c(e){let t=o(),a=new Date().toISOString(),r={id:t,...e,createdAt:a,updatedAt:a},n=s();return n.push(r),i(n),t}async function u(e){return s().find(t=>t.id===e)||null}async function d(e,t){let a=s(),r=a.findIndex(t=>t.id===e);if(-1===r)throw Error("Countdown not found");let n=new Date().toISOString();a[r]={...a[r],...t,updatedAt:n},i(a)}async function m(e){i(s().filter(t=>t.id!==e))}async function g(){return s().sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())}},97250,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(48329),a=e.i(39720),r=e.i(54981),n=e.i(14035),o=e.i(49264),l=e.i(33366);function s(){let s=(0,r.useRouter)(),[i,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(!1),[m,g]=(0,a.useState)({title:"",targetDate:"",timezone:"UTC",location:"",countType:"natural",workingHours:{start:"09:00",end:"17:00",excludeWeekends:!0},customization:{backgroundColor:"#ffffff",textColor:"#1a1a1a",titleColor:"#000000",fontFamily:"Arial, sans-serif",fontSize:"18px"},backgroundImages:[],imageInterval:5}),b=async e=>{e.preventDefault(),c(!0);try{let e=await (0,o.createCountdown)({...m,workingHours:"working"===m.countType?m.workingHours:void 0});s.replace("/".concat(e))}catch(e){alert("Failed to create countdown")}finally{c(!1)}},x=(e,t)=>{g(a=>({...a,[e]:t}))},p=(e,t)=>{g(a=>({...a,customization:{...a.customization,[e]:t}}))},h=(e,t)=>{g(a=>({...a,workingHours:{...a.workingHours,[e]:t}}))},f=(0,a.useRef)(null),v=async t=>{for(let a of t)if(a.type.startsWith("image/")||"image/heif"===a.type||"image/heic"===a.type||a.name.toLowerCase().endsWith(".heif")||a.name.toLowerCase().endsWith(".heic"))try{let t=a;if("image/heic"===a.type||"image/heif"===a.type||a.name.toLowerCase().endsWith(".heic")||a.name.toLowerCase().endsWith(".heif")){console.log("Converting HEIC/HEIF file:",a.name);try{let r=(await e.A(66637)).default,n=await r({blob:a,toType:"image/jpeg",quality:.8}),o=Array.isArray(n)?n[0]:n;t=new File([o],a.name.replace(/\.(heic|heif)$/i,".jpg"),{type:"image/jpeg"}),console.log("HEIC conversion successful")}catch(e){console.warn("HEIC conversion failed, skipping file:",a.name,e);continue}}let r=new FileReader;r.onload=e=>{var t;let r={id:(0,l.v4)(),data:null==(t=e.target)?void 0:t.result,name:a.name};g(e=>({...e,backgroundImages:[...e.backgroundImages,r]}))},r.readAsDataURL(t)}catch(e){console.error("Error processing image:",a.name,e)}else console.warn("Skipping non-image file:",a.name)},y=async e=>{let t=Array.from(e.target.files||[]);await v(t),f.current&&(f.current.value="")},k=async e=>{e.preventDefault(),e.stopPropagation();let t=Array.from(e.dataTransfer.files);await v(t)};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-center mb-8 text-black",children:"Create Your Countdown"}),(0,t.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Basic Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Event Title"}),(0,t.jsx)("input",{type:"text",required:!0,value:m.title,onChange:e=>x("title",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",placeholder:"e.g., New Year 2025"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Target Date & Time"}),(0,t.jsx)("input",{type:"datetime-local",required:!0,value:m.targetDate,onChange:e=>x("targetDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Timezone"}),(0,t.jsx)("select",{value:m.timezone,onChange:e=>x("timezone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",children:(0,n.getTimezoneOptions)().map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Location (Optional)"}),(0,t.jsx)("input",{type:"text",value:m.location,onChange:e=>x("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",placeholder:"e.g., New York, USA"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Countdown Type"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",value:"natural",checked:"natural"===m.countType,onChange:e=>x("countType",e.target.value),className:"mr-2"}),"Natural Time (24/7)"]}),(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",value:"working",checked:"working"===m.countType,onChange:e=>x("countType",e.target.value),className:"mr-2"}),"Working Hours Only"]})]}),"working"===m.countType&&(0,t.jsxs)("div",{className:"ml-6 space-y-3 p-4 bg-gray-50 rounded-md",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-1",children:"Start Time"}),(0,t.jsx)("input",{type:"time",value:m.workingHours.start,onChange:e=>h("start",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-1",children:"End Time"}),(0,t.jsx)("input",{type:"time",value:m.workingHours.end,onChange:e=>h("end",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"})]})]}),(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:m.workingHours.excludeWeekends,onChange:e=>h("excludeWeekends",e.target.checked),className:"mr-2"}),"Exclude Weekends"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Customization"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Background Color"}),(0,t.jsx)("input",{type:"color",value:m.customization.backgroundColor,onChange:e=>p("backgroundColor",e.target.value),className:"w-full h-10 border border-gray-300 rounded-md"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Text Color"}),(0,t.jsx)("input",{type:"color",value:m.customization.textColor,onChange:e=>p("textColor",e.target.value),className:"w-full h-10 border border-gray-300 rounded-md"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Title Color"}),(0,t.jsx)("input",{type:"color",value:m.customization.titleColor,onChange:e=>p("titleColor",e.target.value),className:"w-full h-10 border border-gray-300 rounded-md"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Font Family"}),(0,t.jsx)("select",{value:m.customization.fontFamily,onChange:e=>p("fontFamily",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",children:(0,n.getFontOptions)().map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Font Size"}),(0,t.jsxs)("select",{value:m.customization.fontSize,onChange:e=>p("fontSize",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",children:[(0,t.jsx)("option",{value:"14px",children:"Small (14px)"}),(0,t.jsx)("option",{value:"18px",children:"Medium (18px)"}),(0,t.jsx)("option",{value:"22px",children:"Large (22px)"}),(0,t.jsx)("option",{value:"28px",children:"Extra Large (28px)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-black",children:"Background Images"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 cursor-pointer",onDrop:k,onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onClick:()=>{var e;return null==(e=f.current)?void 0:e.click()},children:[(0,t.jsx)("p",{className:"text-gray-600 mb-2",children:"Drop images here or click to upload"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Supports JPG, PNG, GIF, WebP, HEIF, HEIC"}),(0,t.jsx)("input",{ref:f,type:"file",multiple:!0,accept:"image/*,image/heif,image/heic,.heif,.heic",onChange:y,className:"hidden"}),(0,t.jsx)("button",{type:"button",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",onClick:e=>{e.stopPropagation()},children:"Choose Images"})]}),m.backgroundImages.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-2 text-sm font-medium text-green-700 bg-green-50 px-3 py-2 rounded-md border border-green-200",children:["✓ ",m.backgroundImages.length," ",1===m.backgroundImages.length?"image":"images"," uploaded successfully"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(u?m.backgroundImages:m.backgroundImages.slice(0,8)).map(e=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("img",{src:e.data,alt:e.name,className:"w-20 h-20 object-cover rounded border border-gray-300 group-hover:border-blue-400 transition-colors",title:e.name}),(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.id,void g(e=>({...e,backgroundImages:e.backgroundImages.filter(e=>e.id!==t)}))},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 shadow-md",children:"×"})]},e.id)),!u&&m.backgroundImages.length>8&&(0,t.jsxs)("button",{type:"button",onClick:()=>d(!0),className:"w-20 h-20 rounded border-2 border-dashed border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-gray-400 flex flex-col items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold",children:["+",m.backgroundImages.length-8]}),(0,t.jsx)("span",{className:"text-xs",children:"more"})]})]}),u&&m.backgroundImages.length>8&&(0,t.jsx)("button",{type:"button",onClick:()=>d(!1),className:"mt-2 text-sm text-blue-600 hover:text-blue-800 underline",children:"Show less"})]}),m.backgroundImages.length>1&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-black mb-2",children:"Image Rotation Interval (seconds)"}),(0,t.jsx)("input",{type:"number",min:"1",max:"60",value:m.imageInterval,onChange:e=>{var t;return t=e.target.value,void g(e=>({...e,imageInterval:parseInt(t)}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black"})]})]}),(0,t.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Create Countdown"})]})]})})})}},66637,e=>{e.v(t=>Promise.all(["static/chunks/dffe84a77280f223.js"].map(t=>e.l(t))).then(()=>t(44670)))}]);