(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14035,e=>{"use strict";function t(e){let t=new Date,r=new Date(e.targetDate);return"natural"===e.countType?a(t,r):function(e,t,r){if(!r)return a(e,t);let s=parseInt(r.start.split(":")[0]),l=parseInt(r.start.split(":")[1]),o=parseInt(r.end.split(":")[0]),n=parseInt(r.end.split(":")[1]),i=new Date(e),d=0;for(;i<t;){let c=i.getDay();if(r.excludeWeekends&&(0===c||6===c)){i.setDate(i.getDate()+1),i.setHours(0,0,0,0);continue}let u=60*i.getHours()+i.getMinutes(),m=60*o+n;if(u>=60*s+l&&u<m&&d++,i.setMinutes(i.getMinutes()+1),d>1e6)return a(e,t)}if(d<=0)return{days:0,hours:0,minutes:0,seconds:0,isExpired:!0};let c=Math.floor(d/480);return{days:c,hours:Math.floor(d%480/60),minutes:d%60,seconds:0,isExpired:!1}}(t,r,e.workingHours)}function a(e,t){let a=t.getTime()-e.getTime();if(a<=0)return{days:0,hours:0,minutes:0,seconds:0,isExpired:!0};let r=Math.floor(a/864e5),s=Math.floor(a%864e5/36e5);return{days:r,hours:s,minutes:Math.floor(a%36e5/6e4),seconds:Math.floor(a%6e4/1e3),isExpired:!1}}function r(){return[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time (US)"},{value:"America/Chicago",label:"Central Time (US)"},{value:"America/Denver",label:"Mountain Time (US)"},{value:"America/Los_Angeles",label:"Pacific Time (US)"},{value:"Europe/London",label:"London"},{value:"Europe/Paris",label:"Paris"},{value:"Europe/Berlin",label:"Berlin"},{value:"Asia/Tokyo",label:"Tokyo"},{value:"Asia/Shanghai",label:"Shanghai"},{value:"Asia/Hong_Kong",label:"Hong Kong"},{value:"Australia/Sydney",label:"Sydney"}]}function s(){return[{value:"Arial, sans-serif",label:"Arial"},{value:"Georgia, serif",label:"Georgia"},{value:"Times New Roman, serif",label:"Times New Roman"},{value:"Helvetica, sans-serif",label:"Helvetica"},{value:"Verdana, sans-serif",label:"Verdana"},{value:"Courier New, monospace",label:"Courier New"},{value:"Impact, sans-serif",label:"Impact"},{value:"Comic Sans MS, cursive",label:"Comic Sans MS"}]}e.s(["calculateTimeRemaining",()=>t,"getFontOptions",()=>s,"getTimezoneOptions",()=>r])},38613,e=>{"use strict";e.s(["CountdownClient",()=>l]);var t=e.i(48329),a=e.i(39720),r=e.i(54981),s=e.i(14035);function l(){var l;let i=(0,r.useParams)(),d=(0,r.useRouter)(),[c,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),[h,g]=(0,a.useState)(!0),[v,b]=(0,a.useState)(null),[p,f]=(0,a.useState)(!1),[w,j]=(0,a.useState)(0),y=i.id,N=(0,a.useCallback)(async()=>{try{let{getCountdown:t}=await e.A(28085),a=await t(y);a?u(a):/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(y)?b("Countdown not found. It may have been deleted or the link is invalid."):b("Invalid countdown ID format.")}catch(e){console.error("Error fetching countdown:",e),b("Failed to load countdown. Please try again.")}finally{g(!1)}},[y]);if((0,a.useEffect)(()=>{N()},[N]),(0,a.useEffect)(()=>{if(!c)return;let e=()=>{x((0,s.calculateTimeRemaining)(c))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[c]),(0,a.useEffect)(()=>{if(!(null==c?void 0:c.backgroundImages)||c.backgroundImages.length<=1)return;let e=setInterval(()=>{j(e=>(e+1)%c.backgroundImages.length)},1e3*(c.imageInterval||5));return()=>clearInterval(e)},[null==c?void 0:c.backgroundImages,null==c?void 0:c.imageInterval]),!y)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Invalid Countdown ID"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"The countdown ID is missing or invalid."}),(0,t.jsx)("button",{onClick:()=>d.push("/"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Create New Countdown"})]})});let k=async()=>{if(confirm("Are you sure you want to delete this countdown?"))try{let{deleteCountdown:t}=await e.A(28085);await t(y),d.push("/")}catch(e){alert("Failed to delete countdown")}};if(h)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-xl",children:"Loading countdown..."})});if(v||!c)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Error"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:v||"Countdown not found"}),(0,t.jsx)("button",{onClick:()=>d.push("/"),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Create New Countdown"})]})});let C={backgroundColor:c.customization.backgroundColor,color:c.customization.textColor,fontFamily:c.customization.fontFamily,fontSize:c.customization.fontSize},z=c.backgroundImages&&c.backgroundImages.length>0?{backgroundImage:"url(".concat(null==(l=c.backgroundImages[w])?void 0:l.data,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{},T={color:c.customization.titleColor,fontFamily:c.customization.fontFamily};return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col relative overflow-hidden",style:{...C,...z},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative z-10 bg-white/90 backdrop-blur-lg border-b border-white/20 p-4 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)("button",{onClick:()=>d.push("/"),className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white px-4 py-2 rounded-lg text-sm hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-md hover:shadow-lg flex items-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,t.jsx)("span",{children:"New Countdown"})]}),(0,t.jsxs)("button",{onClick:()=>f(!p),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-2 rounded-lg text-sm hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-md hover:shadow-lg flex items-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,t.jsx)("span",{children:p?"Cancel Edit":"Edit"})]}),(0,t.jsxs)("button",{onClick:k,className:"bg-gradient-to-r from-red-600 to-red-700 text-white px-4 py-2 rounded-lg text-sm hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-md hover:shadow-lg flex items-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,t.jsx)("span",{children:"Delete"})]}),(0,t.jsxs)("button",{onClick:()=>{let e=window.location.href;navigator.clipboard.writeText(e).then(()=>{alert("Share URL copied to clipboard!")})},className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-4 py-2 rounded-lg text-sm hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-md hover:shadow-lg flex items-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),(0,t.jsx)("span",{children:"Share URL"})]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-lg font-mono",children:["ID: ",c.id.slice(0,8),"..."]})]}),p&&(0,t.jsx)(n,{countdown:c,onUpdate:()=>{N(),f(!1)},onCancel:()=>f(!1)}),(0,t.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center p-8 relative z-10",children:(0,t.jsxs)("div",{className:"text-center animate-fade-in-up",children:[(0,t.jsx)("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-center drop-shadow-lg",style:T,children:c.title}),c.location&&(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-white drop-shadow-lg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),(0,t.jsx)("p",{className:"text-xl text-white drop-shadow-lg font-medium",children:c.location})]}),m&&(0,t.jsx)("div",{className:"text-center",children:m.isExpired?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"text-7xl md:text-9xl font-bold mb-6 animate-bounce-custom text-white drop-shadow-2xl",children:"ðŸŽ‰ TIME'S UP! ðŸŽ‰"}),(0,t.jsx)("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-6 border border-white/30",children:(0,t.jsx)("p",{className:"text-lg text-white font-medium",children:"The countdown has ended! Congratulations on reaching your goal!"})})]}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 text-center",children:[(0,t.jsx)(o,{value:m.days,label:"Days"}),(0,t.jsx)(o,{value:m.hours,label:"Hours"}),(0,t.jsx)(o,{value:m.minutes,label:"Minutes"}),(0,t.jsx)(o,{value:m.seconds,label:"Seconds"})]}),(0,t.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,t.jsx)("div",{className:"bg-white/20 backdrop-blur-lg rounded-full h-2 border border-white/30",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-1000 ease-out animate-pulse-custom",style:{width:"".concat(Math.max(0,Math.min(100,100-m.seconds/60*100)),"%")}})})})]})}),(0,t.jsx)("div",{className:"mt-12 bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 max-w-md mx-auto",children:(0,t.jsxs)("div",{className:"space-y-2 text-white/90",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"natural"===c.countType?"Natural Time (24/7)":"Working Hours Only"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:["Timezone: ",c.timezone]})]}),c.workingHours&&(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:["Working Hours: ",c.workingHours.start," - ",c.workingHours.end]})]})]})})]})})]})}function o(e){let{value:a,label:r}=e;return(0,t.jsxs)("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4 md:p-6 border border-white/30 shadow-xl hover:bg-white/30 transition-all duration-300 hover:scale-105",children:[(0,t.jsx)("div",{className:"text-4xl md:text-6xl font-bold mb-2 text-white drop-shadow-lg",children:a.toString().padStart(2,"0")}),(0,t.jsx)("div",{className:"text-sm md:text-lg text-white/80 font-medium uppercase tracking-wider",children:r})]})}function n(r){let{countdown:s,onUpdate:l,onCancel:o}=r,[n,i]=(0,a.useState)({title:s.title,targetDate:s.targetDate.slice(0,16),timezone:s.timezone,location:s.location,countType:s.countType,workingHours:s.workingHours||{start:"09:00",end:"17:00",excludeWeekends:!0},customization:s.customization}),d=async t=>{t.preventDefault();try{let{updateCountdown:t}=await e.A(28085);await t(s.id,{...n,workingHours:"working"===n.countType?n.workingHours:void 0}),l()}catch(e){alert("Failed to update countdown")}};return(0,t.jsx)("div",{className:"relative z-10 bg-white/95 backdrop-blur-lg border-b border-white/20 p-6 text-black animate-slide-in",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center gradient-text",children:"Edit Countdown"}),(0,t.jsxs)("form",{onSubmit:d,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Event Title"}),(0,t.jsx)("input",{type:"text",value:n.title,onChange:e=>i(t=>({...t,title:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-gray-800 transition-all duration-200 hover:border-gray-300"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Target Date"}),(0,t.jsx)("input",{type:"datetime-local",value:n.targetDate,onChange:e=>i(t=>({...t,targetDate:e.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-gray-800 transition-all duration-200 hover:border-gray-300"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Background Color"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"color",value:n.customization.backgroundColor,onChange:e=>i(t=>({...t,customization:{...t.customization,backgroundColor:e.target.value}})),className:"w-full h-12 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-gray-300 transition-all duration-200"}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-xl border-2 border-white shadow-inner pointer-events-none"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Text Color"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"color",value:n.customization.textColor,onChange:e=>i(t=>({...t,customization:{...t.customization,textColor:e.target.value}})),className:"w-full h-12 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-gray-300 transition-all duration-200"}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-xl border-2 border-white shadow-inner pointer-events-none"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Title Color"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"color",value:n.customization.titleColor,onChange:e=>i(t=>({...t,customization:{...t.customization,titleColor:e.target.value}})),className:"w-full h-12 border-2 border-gray-200 rounded-xl cursor-pointer hover:border-gray-300 transition-all duration-200"}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-xl border-2 border-white shadow-inner pointer-events-none"})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-4 justify-center",children:[(0,t.jsxs)("button",{type:"submit",className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,t.jsx)("span",{children:"Update"})]}),(0,t.jsxs)("button",{type:"button",onClick:o,className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white px-6 py-3 rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),(0,t.jsx)("span",{children:"Cancel"})]})]})]})]})})}},28085,e=>{e.v(t=>Promise.all(["static/chunks/0726c2f8a2f4188a.js"].map(t=>e.l(t))).then(()=>t(49264)))}]);